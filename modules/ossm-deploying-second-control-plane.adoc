// Module included in the following assemblies:
// install/ossm-deploying-multiple-service-meshes-on-single-cluster.adoc

:_mod-docs-content-type: PROCEDURE
[id="ossm-deploying-second-control-plane_{context}"]
= Deploying the second control plane

After deploying the first control plane, you can deploy the second control plane by creating its assigned namespace.

.Procedure

. Create a namespace for the second {istio} control plane called `istio-system-2` by running the following command:
+
[source,terminal]
----
$ oc new-project istio-system-2
----

. Add the following label to the second namespace, which is used with the {istio} `discoverySelectors` field by running the following command:
+
[source,terminal]
----
$ oc label namespace istio-system-2 istio-discovery=mesh-2
----

. Create a YAML file named `istio-2.yaml`:
+
.Example configuration
[source,yaml,subs="attributes,verbatim"]
----
kind: Istio
apiVersion: sailoperator.io/v1alpha1
metadata:
  name: mesh-2
spec:
  namespace: istio-system-2
  values:
    meshConfig:
      discoverySelectors:
        - matchLabels:
            istio-discovery: mesh-2
# ...
----

. Create the second `{istio}` resource by running the following command:
+
[source,terminal]
----
$ oc apply -f istio-2.yaml
----

. Deploy a policy for workloads in the `istio-system-2` namespace to only accept mutual TLS traffic `peer-auth-2.yaml` by running the following command:
+
[source,terminal]
----
$ oc apply -f peer-auth-2.yaml
----
+
.Example configuration
[source,yaml,subs="attributes,verbatim"]
----
apiVersion: security.istio.io/v1
kind: PeerAuthentication
metadata:
  name: "mesh-2-peerauth"
  namespace: "istio-system-2"
spec:
  mtls:
    mode: STRICT
----