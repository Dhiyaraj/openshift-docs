// Module included in the following assemblies:
//
// * service-mesh-docs-main/observability/kiali/ossm-console-plugin.adoc

:_mod-docs-content-type: PROCEDURE
[id="ossm-install-console-plugin-ocp-cli_{context}"]
= Installing {SMPluginShort} by using the CLI

You can install the {SMPlugin} by using the {ocp-short-name} CLI.

.Prerequisites

* You have access to the {oc-first} on the cluster as an administrator.
* You have installed the {SMProduct} (OSSM).
* You have installed the `{istio}` control plane from OSSM 3.0.
* You have installed the {KialiServer} 2.4.

.Procedure

. Create a `OSSMConsole` custom resource (CR) to install the plugin by running the following command:
+
[source,yaml,subs="attributes,verbatim"]
----
$ cat <<EOM | oc apply -f -
apiVersion: kiali.io/v1alpha1
kind: OSSMConsole
metadata:
  namespace: openshift-operators
  name: ossmconsole
spec:
  version: default
EOM
----
+
[NOTE]
====
The {ossmc-full} (OSSMC) version must match with the {KialiServer} version. If `spec.version` field value is the string `default` or is not specified, the Kiali Operator installs OSSMC with the same version as the operator. The `spec.version` field requires the `v` prefix in the version number. The version number must only include the major and minor version numbers (not the patch number); for example: `v1.73`.
====
+
The plugin resources deploy in the same namespace as the `OSSMConsole` CR.

. Optional: If more than one {KialiServer} is installed in the cluster, specify the `spec.kiali` setting in the OSSMC CR by running a command similar to the following example:
+
[source,yaml,subs="attributes,verbatim"]
----
$ cat <<EOM | oc apply -f -
apiVersion: kiali.io/v1alpha1
kind: OSSMConsole
metadata:
  namespace: openshift-operators
  name: ossmconsole
spec:
  kiali:
    serviceName: kiali
    serviceNamespace: istio-system-two
    servicePort: 20001
EOM
----

.Verification

. Go to the {ocp-product-title} web console.

. Verify that the *{SMProductShortName}* category is added in the main {ocp-product-title} web console navigation.

. If the {SMPluginShort} is not installed yet, wait until the web console notifies you that the {SMPluginShort} is installed and prompts you to refresh.