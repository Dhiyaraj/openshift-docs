// Module included in the following assemblies:
// * serverless-logic/serverless-logic-workflow-eventing-system

:_mod-docs-content-type: CONCEPT
[id="serverless-logic-platform-scoped-eventing-system-config_{context}"]
= Platform-scoped eventing system configuration

To configure a platform-scoped eventing system, you can use the `spec.eventing.broker.ref` field in the `SonataFlowPlatform` custom resource (CR) to reference a Knative Eventing broker.

This configuration instructs the {ServerlessLogicOperatorName} to automatically link every workflow deployed in the specified namespace, using the `preview` or `gitops` profile, to produce and consume events through the defined broker.

The supporting services deployed in the namespace without a custom eventing configuration are also linked to this broker.

[NOTE]
====
In production environments, use a production-ready broker, such as the Knative Kafka Broker, for enhanced scalability and reliability.
====

The following example displays how to configure the `SonataFlowPlatform` CR for a platform-scoped eventing system:

[source,yaml]
----
apiVersion: sonataflow.org/v1alpha08
kind: SonataFlowPlatform
metadata:
  name: sonataflow-platform-example
  namespace: <example-namespace>
spec:
  eventing:
    broker:
      ref:
        name: example-broker <1>
        namespace: <example-broker-namespace> <2>
        apiVersion: eventing.knative.dev/v1
        kind: Broker
----

<1> Specifies the Knative Eventing Broker name.
<2> Optional: Specifies the namespace of the Knative Eventing Broker. If you do not sepcify the value, then the parameter defaults to the namespace of the `SonataFlowPlatform` CR. Consider creating the broker in the same namespace as `SonataFlowPlatform`.