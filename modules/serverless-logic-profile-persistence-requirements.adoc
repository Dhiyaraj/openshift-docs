// Module included in the following assemblies:
// * serverless-logic/serverless-logic-managing-persistence


:_mod-docs-content-type: REFERENCE
[id="serverless-logic-profile-persistence-requirements_{context}"]
= Profile specific persistence requirements

The persistence configurations provided for both `SonataFlowPlatform` custom resource (CR) and `SonataFlow` CR apply equally to the `preview` and `gitops` profiles. However, you must avoid using these configurations with the `dev` profile, as this profile ignores them entirely.

The primary difference between the `preview` and `gitops` profiles lies in the build process.

When using the `gitops` profile, ensure that the following Quarkus extensions are included in the workflow image during the build process. 

[cols=3*,options="header"]
|===
|groupId
|artifactId
|version

|`io.quarkus`
|`quarkus-agroal`
|`{ServerlessLogicQuarkusVersion}`

|`io.quarkus`
|`quarkus-jdbc-postgresql`
|`{ServerlessLogicQuarkusVersion}`

|`org.kie`
|`kie-addons-quarkus-persistence-jdbc`
|`{ServerlessLogicOrgKieVersion}`

|===

If you are using the `{ServerlessLogicRegistryVersion}` to generate your images, you can pass the following build argument to include these extensions:

[source,terminal,subs="attributes+"]
----
$ QUARKUS_EXTENSIONS=io.quarkus:quarkus-agroal:{ServerlessLogicQuarkusVersion},io.quarkus:quarkus-jdbc-postgresql:{ServerlessLogicQuarkusVersion},org.kie:kie-addons-quarkus-persistence-jdbc:{ServerlessLogicOrgKieVersion}
----


