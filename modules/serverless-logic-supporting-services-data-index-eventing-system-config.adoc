// Module included in the following assemblies:
// * serverless-logic/serverless-logic-managing-supporting-services


:_mod-docs-content-type: REFERENCE
[id="serverless-logic-supporting-services-data-index-eventing-system-config_{context}"]
= Data Index eventing system configuration

To configure a service-scoped eventing system for the Data Index, you must use the `spec.services.dataIndex.source.ref` field in the `SonataFlowPlatform` CR to refer to a specific Knative Eventing Broker. This configuration instructs the {ServerlessLogicOperatorName} to automatically link the Data Index to consume SonataFlow system events from that Broker.

[IMPORTANT]
====
In production environments, use a production-ready broker, such as the Knative Kafka Broker, for enhanced scalability and reliability.
====

The following example displays the Data Index eventing system configuration:
 
[source,yaml]
----
apiVersion: sonataflow.org/v1alpha08
kind: SonataFlowPlatform
metadata:
  name: sonataflow-platform-example
spec:
  services:
    dataIndex:
      source:
        ref:
          name: data-index-source-example-broker <1>
          namespace: data-index-source-example-broker-namespace <2>
          apiVersion: eventing.knative.dev/v1
          kind: Broker
----

<1> Specifies the Knative Eventing Broker from which the Data Index consumes events.
<2> Optional: Defines the namespace of the Knative Eventing Broker. If you do not specify a value, the parameter defaults to the `SonataFlowPlatform` namespace. Consider creating the broker in the same namespace as `SonataFlowPlatform`.