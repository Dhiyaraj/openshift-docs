// Module included in the following assemblies:
// * serverless-logic/serverless-logic-managing-supporting-services

:_mod-docs-content-type: REFERENCE
[id="serverless-logic-supporting-services-platform-scoped-eventing-system-config_{context}"]
= Platform-scoped eventing system configuration

To configure a platform-scoped eventing system, you can use the `spec.eventing.broker.ref` field in the `SonataFlowPlatform` CR to reference a Knative Eventing Broker. This configuration instructs the {ServerlessLogicOperatorName} to automatically link the supporting services to produce and consume events by using the specified broker.

A workflow deployed in the same namespace with the `preview` or `gitops` profile and without a custom eventing system configuration, automatically links to a specified broker.

[IMPORTANT]
====
In production environments, use a production-ready broker, such as the Knative Kafka Broker, for enhanced scalability and reliability.
====

The following example displays how to configure the `SonataFlowPlatform` CR for a platform-scoped eventing system:

[source,yaml]
----
apiVersion: sonataflow.org/v1alpha08
kind: SonataFlowPlatform
metadata:
  name: sonataflow-platform-example
  namespace: example-namespace
spec:
  eventing:
    broker:
      ref:
        name: example-broker <1>
        namespace: example-broker-namespace <2>
        apiVersion: eventing.knative.dev/v1
        kind: Broker
----

<1> Specifies the Knative Eventing Broker name.
<2> Optional: Defines the namespace of the Knative Eventing Broker. If you do not specify a value, the parameter defaults to the `SonataFlowPlatform` namespace. Consider creating the Broker in the same namespace as `SonataFlowPlatform`.